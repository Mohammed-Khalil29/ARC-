<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up</title>
    <link rel="stylesheet" href="../CSS/signup2.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h2>Sign up</h2>
        <form action="signup3.html">
            <div class="input">
                <label for="num">Number</label>
                <i class="fas fa-address-book"></i>
                <input type="tel" id="phone" pattern="^\+20\d{10}$" maxlength="13" name="phone" required
                    title="Phone number must start with +20 and contain exactly 10 digits after it."
                    placeholder="Input your phone number">
            </div>
            <div class="input">
                <label for="sch">School</label>
                <i class="fas fa-school"></i>
                <input type="text" placeholder="Enter your school name" required>
            </div>
            <div class="input">
                <label for="gradeopt">Grade</label>
                <i class="fas fa-graduation-cap"></i>
                <select class="sel" required name="grade" id="grade">
                    <optgroup label="Grade" id="gradeopt">
                        <option id="grade" value="Grade 10">Grade 10</option>
                        <option id="grade" value="Grade11">Grade 11</option>
                        <option id="grade" value="Grade12">Grade 12</option>
                    </optgroup>
                </select>
            </div>
            <div class="next">
                <a href="signup1.html" class="backa">Back</a>
                <button class="btnn" type="submit">
                    Next
                </button>
            </div>
        </form>
        </div>
            <script>
                const phoneInput = document.getElementById("phone");

                phoneInput.addEventListener("focus", () => {
                    if (!phoneInput.value.startsWith("+20")) {
                        phoneInput.value = "+20";
                    }
                });

                phoneInput.addEventListener("keydown", function (e) {
                    const cursorPos = phoneInput.selectionStart;

                    if ((e.key === "Backspace" && cursorPos <= 3) ||
                        (e.key === "Delete" && cursorPos < 3)) {
                        e.preventDefault();
                    }

                    if (cursorPos < 3 && !["ArrowLeft", "ArrowRight", "Tab"].includes(e.key)) {
                        e.preventDefault();
                        phoneInput.setSelectionRange(3, 3);
                    }
                });

                phoneInput.addEventListener("input", () => {
                    if (!phoneInput.value.startsWith("+20")) {
                        phoneInput.value = "+20";
                    }
                });

                phoneInput.addEventListener("paste", (e) => {
                    const pasteData = e.clipboardData.getData("text");
                    if (!pasteData.startsWith("+20")) {
                        e.preventDefault();
                    }
                });

            </script>
</body>
</html>