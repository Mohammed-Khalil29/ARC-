<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up</title>
    <link rel="stylesheet" href="../CSS/signup.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <h2>Sign up</h2>
        <form action="">
            <div class="input">
                <label for="name">Name</label>
                <i class="fas fa-user"></i>
                <input type="text" title="Input your full name" pattern="^[A-z][a-z]+( [A-z][a-z]+)+$" id="name" required placeholder="Input your name">
            </div>
            <div class="input">
                <label for="un">Username</label>
                <i class="fas fa-user"></i>
                <input type="text" title="Input your username" pattern="^[A-Za-z0-9._-]{3,20}$" required placeholder="Input your username">
            </div>
            <div class="input">
                <label for="pas">Password</label>
                <i class="fas fa-lock"></i>
                <input type="password" title="Input a password between 8-25" required minlength="8" maxlength="25" placeholder="Input a password">
            </div>
            <div class="input">
                <label for="conf">Confirm password</label>
                <i class="fas fa-eye"></i>
                <input type="password" title="input your password again" minlength="8" maxlength="25" required placeholder="Confirm your password">
            </div>
            <div class="input">
                <label for="email">Email</label>
                <i class="fas fa-envelope"></i>
                <input type="email" title="Your email must be as example@gamil.com" required placeholder="Input your email">
            </div>
            <div class="input">
                <label for="num">Number</label>
                <i class="fas fa-address-book"></i>
                <input type="tel" id="phone" pattern="^\+20\d{10}$" maxlength="13" name="phone" required title="Phone number must start with +20 and contain exactly 10 digits after it." placeholder="Input your phone number">
            </div>
            <div class="input">
                <label for="sch">School</label>
                <i class="fas fa-school"></i>
                <input type="text" placeholder="Enter your school name" required>
            </div>
            <div class="input">
                <label for="gradeopt">Grade</label>
                <i class="fas fa-graduation-cap"></i>
                <select class="sel" required name="grade" id="grade">
                    <optgroup label="Grade" id="gradeopt">
                        <option id="grade" value="Grade 10">Grade 10</option>
                        <option id="grade" value="Grade11">Grade 11</option>
                        <option id="grade" value="Grade12">Grade 12</option>
                    </optgroup>
                </select>
            </div>
            <div class="input">
                <label for="guard">Guardian</label>
                <i class="fas fa-user-tie"></i>
                <input type="text" id="guard" required placeholder="Gurdian name">
            </div>
            <div class="input">
            <div class="input">
                <label for="num">Number</label>
                <i class="fas fa-address-book"></i>
                <input type="tel" id="phone" pattern="^\+20\d{10}$" maxlength="13" name="phone" required
                title="Phone number must start with +20 and contain exactly 10 digits after it."
                placeholder="Input guardian phone number">
            </div>
            <div class="input">
                <label for="gemail">Guardian email</label>
                <i class="fas fa-envelope"></i>
                <input type="email" title=" email must be as example@gamil.com" required placeholder="Input guardian email">
            </div>
            </div>
            <label for="id" class="idlabel">Guardian id card <b>:</b></label>
            <div class="iddiv">
                <input type="file" title="Upload guardian's ID card" class="id" required id="id">
                <i id="id" class="fa-solid fa-upload"></i>
                <label title="Upload guardian's ID card" class="idl" for="id">Upload personal card</label>
            </div>
            <div class="button">
                <button type="submit">Sign up</button>
            </div>
        </form>
        <p class="or">Or log in by</p>
        <div class="social-icons">
            <a href="https://www.facebook.com/"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-google"></i></a>
        </div>
        <p class="already">Already have an acount?</p>
        <p class="login"><a class="login" href="login.html">Log in</a></p>

    </div>
    <script>
        const phoneInput = document.getElementById("phone");

        phoneInput.addEventListener("focus", () => {
            if (!phoneInput.value.startsWith("+20")) {
                phoneInput.value = "+20";
            }
        });

        phoneInput.addEventListener("keydown", function (e) {
            const cursorPos = phoneInput.selectionStart;

            if ((e.key === "Backspace" && cursorPos <= 3) ||
                (e.key === "Delete" && cursorPos < 3)) {
                e.preventDefault();
            }

            if (cursorPos < 3 && !["ArrowLeft", "ArrowRight", "Tab"].includes(e.key)) {
                e.preventDefault();
                phoneInput.setSelectionRange(3, 3);
            }
        });

        phoneInput.addEventListener("input", () => {
            if (!phoneInput.value.startsWith("+20")) {
                phoneInput.value = "+20";
            }
        });

        phoneInput.addEventListener("paste", (e) => {
            const pasteData = e.clipboardData.getData("text");
            if (!pasteData.startsWith("+20")) {
                e.preventDefault();
            }
        });
        
    </script>
</body>
